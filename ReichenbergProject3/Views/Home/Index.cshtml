
@{
    ViewBag.Title = "Monthly Spending";
}

<h2>@ViewBag.Title</h2>

<div class="container">
  <div class="row">
            <div class="col-md-3">
                <label for="Item" class="control-label">Select an Item: </label>
                <select id="Item" name="name" class="form-control" data-bind="options: Items, value: SelectedItem, optionsText: 'Name'">
                </select>
                <div class="itemOptions">
                    <a id="Create" class="btn btn-success" data-toggle="modal" data-target="#myModal">Create</a>
                    <a id="Delete" class="btn btn-danger" data-toggle="modal" data-target="#delete" data-bind="disable: DeleteDisabled">Delete</a>
                </div>
            </div>

            <div class="col-md-3">
                <label for="Month" class="control-label">Select a Month: </label>
                <select id="Month" name="month" class="form-control" data-bind="options: Months, value: SelectedMonth, disable: SelectMonthDisabled">
                </select>
            </div>

            <div class="col-md-3">
                <label for="Action" class="control-label">Select an Action: </label>
                <select id="Action" name="action" class="form-control" data-bind="options: Actions, value: SelectedAction, optionsCaption: 'None', disable: SelectActionDisabled">
                  
                </select>
            </div>
            

            <div class="col-md-2">
                <label for="Amount" class="control-label">Amount: </label>
                <input id="Amount" name="amount" type="text" class="form-control" min="0"  data-bind="value: amount, disable: AmountDisabled" />
            </div>

            <div class="col-md-1">
                <input id="Update" type="submit" value="update" class="btn btn-primary" data-bind="click: UpdateItem, disable: UpdateDisabled"/>
            </div>
    </div>
            
    <div class="row margin-top" id="spendingData">

    </div>
</div>

@* Modal for creating a new item *@
<div class="modal fade" tabindex="-1" role="dialog" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Create New Item</h4>
            </div>
            <div class="modal-body">
                <div class="form=group">
                    <label class="control-label">Item Name: </label> <input type="text" class="form-control" data-bind="value: NewItemName" />
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-bind="click: CreateItem">Create Item</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

@* Modal for Deleting a new item *@
<div class="modal fade" tabindex="-1" role="dialog" id="delete">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" >Delete</h4>
            </div>
            <div class="modal-body">
               <h1>Delete: <span data-bind="text: SelectedItem().Name"/>?</h1>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-bind="click: DeleteItem">Delete Item</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

@section Scripts {
        @Scripts.Render("~/bundles/knockout")
        @Scripts.Render("~/bundles/MonthlySpending")
<script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>
        }